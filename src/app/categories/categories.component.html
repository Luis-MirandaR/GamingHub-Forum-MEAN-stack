<div class="flex">
  <app-sidebar></app-sidebar>
  <div class="flex-1 p-8">

    <!-- Card para agregar categoría -->
    <div class="w-[80%] mx-auto bg-white dark:bg-zinc-900 p-6 rounded shadow mb-8">
      <h2 class="text-xl font-bold mb-4 text-purple-700 text-center">Agregar nueva categoría</h2>
      <form (ngSubmit)="addCategory()" #categoryForm="ngForm">
        <div class="mb-4 flex items-end gap-2">
          <div class="flex-1">
            <label class="block mb-1 text-gray-700 dark:text-gray-200">Nombre de la categoría</label>
            <input
              type="text"
              class="w-full px-3 py-2 border rounded"
              [(ngModel)]="newCategory"
              name="newCategory"
              required
            />
          </div>
          <button
            type="submit"
            class="bg-purple-700 text-white px-4 py-2 rounded hover:bg-purple-800"
            [disabled]="categoryForm.invalid"
          >
            Guardar
          </button>
        </div>
      </form>
    </div>

    <!-- Tabla de categorías -->
    <div class="w-[80%] mx-auto bg-white dark:bg-zinc-900 p-6 rounded shadow">
      <h2 class="text-xl font-bold mb-4 text-purple-700 text-center">Categorías existentes</h2>
      <table class="min-w-full text-left">
        <thead>
          <tr>
            <th class="py-2 px-4 border-b dark:border-zinc-800">Nombre</th>
            <th class="py-2 px-4 border-b dark:border-zinc-800 text-center">Acción</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let category of categories">
            <td class="py-2 px-4 border-b dark:border-zinc-800">{{ category.category }}</td>
            <td class="py-2 px-4 border-b dark:border-zinc-800 text-center">
              <button
                class="bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700"
                (click)="deleteCategory(category._id)"
              >
                Eliminar
              </button>
            </td>
          </tr>
          <tr *ngIf="!categories || categories.length === 0">
            <td colspan="2" class="text-center text-gray-500 py-4">No hay categorías registradas.</td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
</div>